<div class="product-wrapper">
  <div class="product-container">

    <!-- Error Alert -->
    <div class="alert alert-danger" *ngIf="errorMessage" (click)="errorMessage = null">
      <span class="alert-icon">⚠</span>
      {{ errorMessage }}
    </div>

    <div class="product-card">
      <div class="product-header">
        <h1>Edit Product</h1>
        <p>Update product details in your inventory</p>
      </div>

      <form [formGroup]="productForm" (ngSubmit)="onSubmit()">
        <div class="product-body">

          <!-- Product Name -->
          <div class="form-group">
            <label for="name">Product Name</label>
            <input
              id="name"
              type="text"
              formControlName="name"
              placeholder="Enter product name"
              [class.error]="productForm.get('name')?.invalid && productForm.get('name')?.touched"
            />
          </div>

          <!-- HSN & Packing -->
          <div class="form-row">
            <div class="form-group">
              <label for="hsn">HSN Code</label>
              <input
                id="hsn"
                type="text"
                formControlName="hsn"
                placeholder="Enter HSN code"
              />
            </div>

            <div class="form-group">
              <label for="packing">Packing</label>
              <input
                id="packing"
                type="text"
                formControlName="packing"
                placeholder="e.g. 10x10 strips"
              />
            </div>
          </div>

          <div class="divider"></div>

          <!-- MRP -->
          <div class="form-group">
            <label for="mrp">MRP (₹)</label>
            <input
              id="mrp"
              type="number"
              formControlName="mrp"
              placeholder="Enter MRP"
              min="0"
            />
          </div>

          <div class="divider"></div>

          <!-- GST -->
          <div class="section-title">GST Details</div>

          <div class="form-row">
            <div class="form-group">
              <label for="cgst">CGST (%)</label>
              <input
                id="cgst"
                type="number"
                formControlName="cgst"
                placeholder="CGST %"
                min="0"
                max="100"
              />
            </div>

            <div class="form-group">
              <label for="sgst">SGST (%)</label>
              <input
                id="sgst"
                type="number"
                formControlName="sgst"
                placeholder="SGST %"
                min="0"
                max="100"
              />
            </div>
          </div>

          <!-- Total GST -->
          <div class="total-gst"
               *ngIf="productForm.get('cgst')?.value >= 0 && productForm.get('sgst')?.value >= 0">
            <span class="gst-label">Total GST</span>
            <span class="gst-value">
              {{ (productForm.get('cgst')?.value || 0) + (productForm.get('sgst')?.value || 0) }}%
            </span>
          </div>

        </div>

        <div class="product-footer">
          <button
            type="submit"
            class="submit-btn"
            [disabled]="productForm.invalid">
            Update Product
          </button>
        </div>

      </form>
    </div>

  </div>
</div>
