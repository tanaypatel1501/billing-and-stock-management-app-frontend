<div class="filter-wrapper">
  <!-- Filter Toggle Button -->
  <button class="filter-toggle-btn" (click)="toggleModal()" title="Sort & Filter">
    <fa-icon [icon]="faFilter"></fa-icon>
  </button>

  <!-- Modal Overlay -->
  <div class="modal-overlay" *ngIf="showModal" (click)="toggleModal()">
    <div class="filter-modal-card" (click)="$event.stopPropagation()">
      
      <!-- Header -->
      <div class="modal-header">
        <div class="header-content">
          <fa-icon [icon]="faFilter"></fa-icon>
          <h3>Sort Settings</h3>
        </div>
        <button type="button" class="modal-close" (click)="toggleModal()">×</button>
      </div>

      <!-- Body -->
      <div class="modal-body">
        
        <!-- Sort By Column -->
        <div class="form-group">
          <label>Sort By Column</label>
          <div class="select-wrapper">
          <select class="custom-select" [(ngModel)]="selectedColumn">
            <option value="" disabled>Select Column</option>
            <option *ngFor="let col of columns" [value]="col.value">{{ col.label }}</option>
          </select>
          <span class="select-arrow">⌄</span>
          </div>
        </div>

        <!-- Direction Toggle -->
        <div class="form-group">
          <label>Sort Direction</label>
          <div class="direction-toggle">
            <button 
              type="button" 
              class="direction-btn"
              [class.active]="selectedDirection === 'asc'" 
              (click)="selectedDirection = 'asc'">
              <fa-icon [icon]="faSortUp"></fa-icon>
              <span>Ascending</span>
            </button>
            <button 
              type="button" 
              class="direction-btn"
              [class.active]="selectedDirection === 'desc'" 
              (click)="selectedDirection = 'desc'">
              <fa-icon [icon]="faSortDown"></fa-icon>
              <span>Descending</span>
            </button>
          </div>
        </div>

      </div>

      <!-- Footer -->
      <div class="modal-footer">
        <button type="button" class="clear-btn" (click)="clearFilters()">
          <fa-icon [icon]="faTrash"></fa-icon>
          Clear All
        </button>
        <div class="footer-actions">
          <button type="button" class="modal-btn secondary" (click)="toggleModal()">
            Cancel
          </button>
          <button 
            type="button" 
            class="modal-btn primary" 
            (click)="apply()" 
            [disabled]="!selectedColumn">
            Apply Sort
          </button>
        </div>
      </div>

    </div>
  </div>
</div>